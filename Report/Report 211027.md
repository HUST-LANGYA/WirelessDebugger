# Report 211027

Lenor

## 基本介绍

无线数据传输器分为两个部分，上位机程序与单片机程序。

其中单片机程序过于简单，就不放完整源码了。

上位机主要负责读取单片机发送来的数据并画图。

单片机与电脑通过无线串口模块进行通信（例如基于nRF24L01的无线串口）。

## 单片机程序

只需通过串口按照以下格式发送数据即可：

```C
'T'+HAL_GetTick()+'S'+'D'+Data+'E'
```

其中Data是任意数字。例如，样例程序如下(已经重定向printf至UART1)

```C
uint32_t time = HAL_GetTick();
printf("T%luS_D%dE\r\n", time, (int)(100*sin((double)time/500)));
```

## 上位机程序

现在做了一个演示的版本，目录：

> Code\SerialIlluDemo\ComTry.py

使用前需要修改一些内容：

Line 189: port改为无线串口模块对应的端口号。

## 演示效果

其实现在还都是在试验阶段，效果没啥好看的。无线的部分直接采用了现成的无线串口，方便的很。

画图的话，pyqt的画图效果还是的确比matplot好很多的。
